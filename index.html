<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Lambdamacro by ryzed</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Lambdamacro</h1>
        <p>Lambda with shorts using macros</p>

        <p class="view"><a href="https://github.com/ryzed/LambdaMacro">View the Project on GitHub <small>ryzed/LambdaMacro</small></a></p>


        <ul>
          <li><a href="https://github.com/ryzed/LambdaMacro/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/ryzed/LambdaMacro/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/ryzed/LambdaMacro">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="lambdamacro" class="anchor" href="#lambdamacro"><span class="octicon octicon-link"></span></a>LambdaMacro</h1>

<p>Lambda with shorts using macros</p>

<p>Based on hxshort ideas by Simn.
Main difference - lambda inlined into code, for speed reasons.</p>

<p>fold not implemented.</p>

<p>Best used through 'using ryz.utils.LambdaMacro' syntax, except map, concat and filter for arrays.</p>

<p>Speed difference up to 20 times with no side effects.
Check LambdaMacroTest.hx or online at <a href="http://gametrax.eu/game/35a3c97a95">http://gametrax.eu/game/35a3c97a95</a></p>

<h1>
<a name="short-syntax" class="anchor" href="#short-syntax"><span class="octicon octicon-link"></span></a>Short syntax:</h1>

<pre><code>arg =&gt; body
[arg] =&gt; body
[arg1, arg2] =&gt; body
</code></pre>

<h1>
<a name="underscores" class="anchor" href="#underscores"><span class="octicon octicon-link"></span></a>Underscores:</h1>

<pre><code>iter(body) same as iter(_ =&gt; body)
mapi(body) same as mapi([_, __] =&gt; body)
mapi(x =&gt; body) same as mapi([x, _] =&gt; body)
mapi([x] =&gt; body) same as mapi([x, _] =&gt; body)
</code></pre>

<h1>
<a name="exampe-usage" class="anchor" href="#exampe-usage"><span class="octicon octicon-link"></span></a>Exampe usage:</h1>

<pre><code>var t = ['qwe'];
var tt = ['asd'];


trace('concat:');
var t = LambdaMacro.concat(t, tt);
trace(t);
t.iter(x =&gt; trace(x));

var t = t.array();

var a = ['a', 'b', 'c'];

trace('foreach:');
trace(a.foreach(_ != 'qwe'));
trace(a.foreach(_ == 'qwe'));

trace('map:');
var b = LambdaMacro.map(a, _ + 'from map');
trace(b);

trace('mapi:');
var b = a.mapi([i, v] =&gt; 'in mapi val=$v at idx=$i');
trace(b);
var b = a.mapi(i =&gt; 'in mapi with single val=$_ at idx=$i');
trace(b);
var b = a.mapi([i] =&gt; 'in mapi with arr1 val=$_ at idx=$i');
trace(b);


trace('exists:');
trace(a.exists(x =&gt; x == 'b'));

trace('has:');
trace(a.has('qwe'));

trace('count:');
var cnt = a.count(x =&gt; x == 'b');
trace(cnt);

var cnt = a.count(x =&gt; { trace('from cnt $x'); x != 'b'; } );
trace(cnt);

trace('iter:');
a.iter(x =&gt; trace(x));

trace('filter:');
trace(LambdaMacro.filter(a, _ != 'b'));

trace('countany:');
trace(a.countAny());

trace('empty:');
trace(a.empty());
trace([].empty());

trace('index of:');
trace(a.indexOf('qwe'));
trace(a.indexOf('a'));
trace(a.indexOf('b'));
trace(a.indexOf('c'));


trace('multi iter:');
var a = ['a', 'b', 'c'];
var b = ['1', '2', '3', '4'];
var c = [a, b];

c.iter(x =&gt;
    x.iter(y =&gt; 
        trace('value $y from $x')));

c.iter(x =&gt; { var cnt = x.countAny(); trace('countAny in $x = $cnt'); } );

trace('total cnt:');
var totalCnt = 0;
c.iter(x =&gt; { totalCnt += x.countAny(); } );
trace(totalCnt);

trace('total cnt with x=&gt; x=&gt;:');
var totalCnt = 0;
c.iter(x =&gt; { totalCnt += x.count(x =&gt; x != '2'); } );
trace(totalCnt);

trace('total cnt with x=&gt; y=&gt;:');
var totalCnt = 0;
c.iter(x =&gt; { totalCnt += x.count(y =&gt; y != '2'); } );
trace(totalCnt);

trace('multi join x=&gt;y:');
var s = 'multi join = ';
c.iter(x =&gt; x.iter(y =&gt; s += y) );
trace(s);

trace('multi join x=&gt;x:');
var s = 'multi join = ';
c.iter(x =&gt; x.iter(x =&gt; s += x) );
trace(s);
</code></pre>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/ryzed">ryzed</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>